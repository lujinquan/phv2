<form class="layui-form" action="" method="post" >
  <div class="j-details-box floorWrap">
	<fieldset class="layui-elem-field layui-field-title j-field-box">
		<legend>基本信息</legend>
	</fieldset>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label"><i class="red">*</i>房屋编号</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_seach" value="" placeholder="点击查询"  lay-verify="required" readonly autocomplete="off" class="layui-input">
				<input type="hidden" name="ban_id" value="">
				<input type="hidden" name="house_id" value="">
				<input type="hidden" name="tenant_id" value="">
				<b class="j-explain-search j-ban_number">查询</b>
			</div>
		</div>
	</div>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label"><i class="red">*</i>发租类型</label>
			<div class="j-input-inline">
				<select name="new_type" lay-verify="required" class="field-cid">
					<option value="">请选择</option>
					{volist name="params['news']" id="v"}
					<option value="{$key}">{$v}</option>
					{/volist}
				</select>
			</div>
		</div>
		<div class="layui-col-md8">
			<label class="j-form-label">楼栋地址</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_address" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">单元号</label>
			<div class="j-input-inline">
				<input type="text" id="unit_number" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">层次</label>
			<div class="j-input-inline">
				<input type="text" id="arrangement" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">门牌号</label>
			<div class="j-input-inline">
				<input type="text" id="house_door" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">租户</label>
			<div class="j-input-inline">
				<input type="text" id="tenant" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">身份证号</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_idnumber" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">联系电话</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_tel" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
    <div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">产别</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_class" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">使用性质</label>
			<div class="j-input-inline">
				<input type="text" id="reduction_nature" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">建筑面积</label>
			<div class="j-input-inline">
				<input type="text" id="builtup_area" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">计租面积</label>
			<div class="j-input-inline">
				<input type="text" id="rental_area" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">房屋原价</label>
			<div class="j-input-inline">
				<input type="text" id="house_originalprice" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">规定租金</label>
			<div class="j-input-inline">
				<input type="text" id="prescribed_rent" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	
	
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">计算租金</label>
			<div class="j-input-inline">
				<input type="text" id="rental_calculation" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">租差</label>
			<div class="j-input-inline">
				<input type="text" id="house_floor_id" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">泵费</label>
			<div class="j-input-inline">
				<input type="text" id="pump_fee" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md4">
			<label class="j-form-label">营业／协议租金</label>
			<div class="j-input-inline">
				<input type="text" id="rental_business" value="" placeholder=""   readonly autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">楼栋信息</label>
			<div class="j-input-inline">
				<input type="text" value="" placeholder="" readonly autocomplete="off" class="layui-input">
				<a id="checktables" class="j-iframe-pop" hisi-data="{width: '1300px', height: '700px',refresh: 2}" title="楼栋信息"><b id="checks" class="j-explain-search hide">查看</b></a>
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">计租表</label>
			<div class="j-input-inline">
				<input type="text" value="" placeholder="" readonly autocomplete="off" class="layui-input">
				<a id="checktable" class="j-iframe-pop" hisi-data="{width: '1300px', height: '700px',refresh: 2}" title="计租表"><b id="check" class="j-explain-search hide">查看</b></a>
			</div>
		</div>
	</div>
	<div class="layui-row layui-form-item layui-col-space90">
		<div class="layui-col-md8">
			<label class="j-form-label">异动原因</label>
			<div class="j-input-inline">
				<input type="text" name="change_remark" value="" autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-col-md4">
			<label class="j-form-label">是否生成租约</label>
			<div class="j-input-inline j-input-radio">
				<input type="radio" name="is_create_lease" value="1" title="是">
				<input type="radio" name="is_create_lease" value="0" title="否" checked="">
			</div>
		</div>
	</div>
	<fieldset  class="layui-elem-field layui-field-title j-field-box">
		<legend>基数异动</legend>
	</fieldset>
		<table  class="layui-table">
		  <thead>
			  <tr>
			    <th>楼栋编号</th>
			    <th>异动状态</th>
				<th class="cancel">户数</th>
			    <th class="cancel">规定租金</th>
			    <th class="cancel">使用面积</th>
			    <th class="cancel">建筑面积</th>
			    <th class="cancel">房屋原价</th>
				<th class="cancel">栋数</th>
			    
			  </tr>
		  </thead>
		  <tbody>
		    <tr>
		  	  <td id="floor_number"></td>
			  <td>异动前</td>
			  <td class="cancel_before_0" id="floor_households"><input type="hidden" name="floor_households" value=""><label></label></td>
			  <td class="cancel_before_1" id="floor_prescribed"><input type="hidden" name="floor_prescribed" value=""><label></label></td>
	    	  <td class="cancel_before_2" id="floor_areaofuse"><input type="hidden" name="floor_areaofuse" value=""><label></label></td>
	    	  <td class="cancel_before_3" id="floor_builtuparea"><input type="hidden" name="floor_builtuparea" value=""><label></label></td>
	    	  <td class="cancel_before_4" id="floor_original"><input type="hidden" name="floor_original" value=""><label></label></td>
			  <td class="cancel_before_5" id="floor_bannumber"><input type="hidden" name="floor_bannumber" value=""><label></label></td>  
		    </tr>
			<tr>
			  <td></td>
			  <td>异动</td>
			  <td class="cancel_change_0"><input type="hidden" name="cancel_change_0" value=""><label></label></td>
			  <td class="cancel_change_1"><input type="hidden" name="cancel_change_1" value=""><label></label></td>
			  <td class="cancel_change_2"><input type="hidden" name="cancel_change_2" value=""><label></label></td>
			  <td class="cancel_change_3"><input type="hidden" name="cancel_change_3" value=""><label></label></td>
			  <td class="cancel_change_4"><input type="hidden" name="cancel_change_4" value=""><label></label></td>
			  <td class="cancel_change_5"><input type="hidden" name="cancel_change_5" value=""><label></label></td>
			</tr>
			<tr>
			  <td></td>
			  <td>异动后</td>
			  <td class="cancel_after_0" id="changes_floor_households"><input type="hidden" name="changes_floor_households" value=""><label></label></td>
			  <td class="cancel_after_1" id="changes_floor_prescribed"><input type="hidden" name="changes_floor_prescribed" value=""><label></label></td>
			  <td class="cancel_after_2" id="changes_floor_areaofuse"><input type="hidden" name="changes_floor_areaofuse" value=""><label></label></td>
			  <td class="cancel_after_3" id="changes_floor_builtuparea"><input type="hidden" name="changes_floor_builtuparea" value=""><label></label></td>
			  <td class="cancel_after_4" id="changes_floor_original"><input type="hidden" name="changes_floor_original" value=""><label></label></td>
			  <td class="cancel_after_5" id="changes_floor_bannumber"><input type="hidden" name="changes_floor_bannumber" value=""><label></label></td>
			</tr>
		  </tbody>
		</table>
	<fieldset id="item1" class="layui-elem-field layui-field-title j-field-box">
		<legend>填报信息</legend>
	</fieldset>

      <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('Houselease',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 计租表</div>
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img1">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list1" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
  <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('HouseForm',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 住宅租约</div> <!-- (或入驻通知书，或情况说明) -->
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img2">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list2" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
   <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('TenantReIDCard',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 身份证</div>
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img3">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list3" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
   <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('ChangenewPaper',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 收欠票据</div>
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img4">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list4" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
   <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('BanCard',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 图卡</div>
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img5">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list5" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
   <div class="layui-row layui-form-item layui-col-space90">
  	<div class="layui-col-md12">
  		<div class="j-enclosure-upload clearfix">
  			<div class="j-enclosure-label j-enclosure-long-label">{if condition="in_array('ChangenewOther',$config['changenew_file_upload'])"}<i class="red">*</i>{/if} 其他</div>
  			<div class="j-enclosure-label j-uplode-icon">
  				<i><img src="/static/system/image/Group8.png"></i>点击上传
  				<button type="button" class="layui-btn layui-btn-primary" id="upload_img6">上传图片</button>
  			</div>
  			<div class="layui-form-mid layui-word-aux">限制5M</div>
  		</div>
  		<div class="j-enclosure-imgs clearfix">
  			<div id="upload_img_list6" class="upload_img_list j-viewer-img"> </div>
  		</div>
  	</div>
  	<div class="layui-upload">
  	</div>
  </div>
	{include file="common/submit"}
  </div>
</form>
{include file="system@block/layui" /}
<script type="text/javascript" src="__PUBLIC_JS__/viewer/viewer-jquery.min.js?v={:config('hisiphp.version')}"></script>
<script type="text/javascript">
	var upurl1 = "{:url('system/Api/upload')}?input=Houselease&group=change&water=no"; //计租表
	var upurl2 = "{:url('system/Api/upload')}?input=HouseForm&group=change&water=no"; //租约
	var upurl3 = "{:url('system/Api/upload')}?input=TenantReIDCard&group=change&water=no"; //身份证
	var upurl4 = "{:url('system/Api/upload')}?input=ChangenewPaper&group=change&water=no"; //收欠票据
	var upurl5 = "{:url('system/Api/upload')}?input=BanCard&group=change&water=no"; //图卡
	var upurl6 = "{:url('system/Api/upload')}?input=ChangenewOther&group=change&water=no"; //情况说明
	var duotu = true; //是否为多图上传true false
	//console.log(params);
	layui.use(['jquery', 'laydate', 'upload', 'form'], function() {
		var laydate = layui.laydate,
			$ = layui.$,
			upload = layui.upload,
			form = layui.form;
		//获取房屋查询器
		 $(".layui-form").on('click','.j-ban_number',function(){
			layer.open({
						title: '房屋查询器'
						,type: 2
						,offset: 'auto'
						,area: ['70%', '60%']
						, btn:false
						,pageTabs: false
						,content: '{:url('system/index/house')}?hisi_iframe=yes&change_type=7'
						,btn: ['确定','关闭']
						,yes: function(index, layero){
							var row = window["layui-layer-iframe" + index].hoesedata();
							console.log(row);
							layer.close(index);
							// 楼栋信息
							$("#reduction_seach").val(row.house_number);//获取房屋编号
							$("#checktable").attr('href',"{:url('house/house/renttable')}?group=y&id="+row.house_id);//获取房屋编号
							$("#checktables").attr('href',"{:url('house/ban/detail')}?group=y&id="+row.ban_id);//获取楼栋编号
							$("#check").removeClass('hide');
							$("#checks").removeClass('hide');
							$("input[name='ban_id']").val(row.ban_id);//获取楼栋id
							$("input[name='house_id']").val(row.house_id);//获取房屋id
							$("input[name='tenant_id']").val(row.tenant_id);//获取租户id
							$("#reduction_seach").val(row.house_number);//获取房屋编号
							$("#reduction_address").val(row.ban_address);//获取楼栋地址
							$("#unit_number").val(row.house_unit_id);//获取单元号
							$("#arrangement").val(row.house_floor_id);//获取层次
							$("#house_numbers").val(row.house_door);//获取门牌号
							$("#tenant").val(row.tenant_name);//获取租户
							$("#reduction_idnumber").val(row.tenant_card);//获取身份证号
							$("#reduction_tel").val(row.tenant_tel);//获取电话
							$("#builtup_area").val(row.house_area);//获取建筑面积
							$("#house_door").val(row.house_door);//获取门牌号
							$("#rental_area").val(row.house_lease_area);//获取计租面积
							$("#house_originalprice").val(row.house_oprice);//获取房屋原价
							$("#prescribed_rent").val(row.house_pre_rent);//获取规定租金
							$("#reduction_class").val(params.owners[row.ban_owner_id]);//获取产别
							$("#reduction_nature").val(params.uses[row.house_use_id]);//获取楼栋使用性质
							$("#rental_calculation").val(row.house_cou_rent);//获取计算租金
							$("#house_floor_id").val(row.house_diff_rent);//获取租差
							$("#pump_fee").val(row.house_pump_rent);//获取泵费
							$("#rental_business").val(row.house_protocol_rent);//营业／协议租金
							
							// 基数异动的填充数据
							$("#floor_number").text(row.ban_number);//获取表格楼栋编号
							$("#floor_households label").text(row.ban_holds);//获取户数
							$("#floor_households input").val(row.ban_holds);//获取隐藏域的户数
							$("#floor_prescribed label").text(row.ban_rent);//获取表格规定租金
							$("#floor_prescribed input").val(row.ban_rent);//获取隐藏域的值
							$("#floor_areaofuse label").text(row.ban_use_area);//获取表格使用面积
							$("#floor_areaofuse input").val(row.ban_use_area);//获取隐藏域的值
							$("#floor_builtuparea label").text(row.ban_area);//获取表格建筑面积
							$("#floor_builtuparea input").val(row.ban_area);//获取隐藏域的值
							$("#floor_original label").text(row.ban_oprice);//获取表格房屋原价
							$("#floor_original input").val(row.ban_oprice);//获取隐藏域的值
							$("#floor_bannumber label").text(row.ban_num);//获取栋数
							$("#floor_bannumber input").val(row.ban_num);//获取隐藏域的栋数
							// 户数计算
							$(".cancel_change_0 label").text(1);
							$(".cancel_change_0 input").val(1)//获取隐藏域的值
							var sumhouseholdsold = parseInt($('.cancel_before_0 label').text()) + parseInt($(".cancel_change_0 label").text());
							$('.cancel_after_0 label').text(sumhouseholdsold);
							$('.cancel_after_0 input').val(sumhouseholdsold);//获取隐藏域的值
							// 规定租金计算
							$(".cancel_change_1 label").text(row.house_pre_rent);
							$(".cancel_change_1 input").val(row.house_pre_rent)//获取隐藏域的值
							var sumruleold = parseFloat(row.house_pre_rent).toFixed(2)*100 + parseFloat(row.ban_rent).toFixed(2)*100;
							$('.cancel_after_1 label').text((sumruleold.toFixed(2) / 100).toFixed(2));
							$('.cancel_after_1 input').val((sumruleold.toFixed(2) / 100).toFixed(2));//获取隐藏域的值
							// 使用面积计算
							$(".cancel_change_2 label").text(row.house_lease_area);
							$(".cancel_change_2 input").val(row.house_lease_area);//获取隐藏域的值
							var sumuseold = parseFloat(row.house_lease_area).toFixed(2)*100 + parseFloat(row.ban_use_area).toFixed(2)*100;
							$('.cancel_after_2 label').text((sumuseold.toFixed(2) / 100).toFixed(2));
							$('.cancel_after_2 input').val((sumuseold.toFixed(2) / 100).toFixed(2));//获取隐藏域的值
							// 建筑面积改变重新计算
							$(".cancel_change_3 label").text(row.house_area);
							$(".cancel_change_3 input").val(row.house_area);//获取隐藏域的值
							var sumbuildingsold = parseFloat(row.house_area).toFixed(2)*100 + parseFloat(row.ban_area).toFixed(2)*100;
							$('.cancel_after_3 label').text((sumbuildingsold.toFixed(2) / 100).toFixed(2));
							$('.cancel_after_3 input').val((sumbuildingsold.toFixed(2) / 100).toFixed(2));//获取隐藏域的值
							// 房屋原价改变重新计算
							$(".cancel_change_4 label").text(row.house_oprice);
							$(".cancel_change_4 input").val(row.house_oprice);//获取隐藏域的值
							var sumoriginalold = parseFloat(row.house_oprice).toFixed(2)*100 + parseFloat(row.ban_oprice).toFixed(2)*100;
							$('.cancel_after_4 label').text((sumoriginalold.toFixed(2) / 100).toFixed(2));
							$('.cancel_after_4 input').val((sumoriginalold.toFixed(2) / 100).toFixed(2));//获取隐藏域的值
							// 栋数计算
							$(".cancel_change_5 label").text(0);
							$(".cancel_change_5 input").val(0)//获取隐藏域的值
							$('.cancel_after_5 label').text(row.ban_num);
							$('.cancel_after_5 input').val(row.ban_num);//获取隐藏域的值

						},btn2: function(index, layero){
							layer.close(index);
						}
			 });
		})
        //计租表
        upload.render({
        	elem: '#upload_img1',
        	url: upurl1,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'Houselease',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list1').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="Houselease[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list1').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="Houselease[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        //租约
        upload.render({
        	elem: '#upload_img2',
        	url: upurl2,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'HouseForm',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list2').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="HouseForm[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list2').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="HouseForm[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        //身份证
        upload.render({
        	elem: '#upload_img3',
        	url: upurl3,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'TenantReIDCard',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list3').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="TenantReIDCard[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list3').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="TenantReIDCard[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        //租约
        upload.render({
        	elem: '#upload_img4',
        	url: upurl4,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'ChangenewPaper',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list4').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="ChangenewPaper[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list4').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="ChangenewPaper[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        //租约
        upload.render({
        	elem: '#upload_img5',
        	url: upurl5,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'BanCard',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list5').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="BanCard[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list5').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="BanCard[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        //租约
        upload.render({
        	elem: '#upload_img6',
        	url: upurl6,
        	size: 1024*5,
        	multiple: duotu,
        	field: 'ChangenewOther',
        	before: function(obj) {
        		layer.msg('图片上传中...', {
        			icon: 16,
        			shade: 0.01,
        			time: 0
        		})
        	},
        	done: function(res) {
        		layer.close(layer.msg()); //关闭上传提示窗口
        		if (duotu == true) {
        			//调用多图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list6').append('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="ChangenewOther[]" value="' + res.data.id + '" /></dd>');
        		} else {
        			//调用单图上传方法,其中res.imgid为后台返回的一个随机数字
        			$('#upload_img_list6').html('<dd class="item_img" id="' + res.data.name +
        				'"><div class="operate"><i  class="layui-icon-close-fill layui-icon"></i></div><img src="' + res.data.file +
        				'" class="img" ><input type="hidden" name="ChangenewOther[]" value="' + res.data.id + '" /></dd>');
        		}
        	}
        })
        /*
		删除上传图片
		*/
		$(document).on("click", ".upload_img_list dd i", function() {
			$(this).parents("dd").remove();
		})
	});
</script>

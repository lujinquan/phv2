<!-- 楼栋查询器，只能单选或多选楼栋  -->

<style>
	/*------------------ iframe页面去共用部分样式 S ----------------*/
	.layui-header,.layui-side,.layui-footer,.bread-crumbs{ display: none; color: #f60;}
	.layui-layout-admin .layui-body{top: 0;bottom: 0;}
	.layui-body{left: 0;}
	.page-tab-content{margin: 0;}
	.j-table-content .layui-table-box{ min-height: auto;}
	/*------------------ iframe页面去共用部分样式 E ----------------*/
</style>
<div class="j-table-content">
{include file="system@block/layui" /}
<fieldset class="layui-elem-field layui-field-title j-field-box">
	<legend>楼栋查询</legend>
</fieldset>
<table id="dataTable1" lay-filter='dataTable1' lay-filter="dataTable1"></table>
</div>
<script type="text/javascript">
	var conId;
	var data;
	var datas;
    layui.use(['table','jquery'], function() {
        var table = layui.table
		    ,$ = layui.$;
		//楼栋查询
        table.render({
        	elem: '#dataTable1'
        		//,height: 550
        		//,height: 'full-20' //浏览器最大高度
        	,toolbar: true
        	,defaultToolbar: false //设置右边筛选，导出，打印显示
        	,url: '{:url("system/Admin/queryData")}?type=ban' //数据接口
        	,page: true //开启分页
        	,limit: 10
        	,text: {
        		none: '暂无相关数据'
        	},
        	cols: [
        		[ //表头
        		{type: 'checkbox',fixed: 'left'
        		}, {field: 'ban_number', minWidth: 110, align:'center', title: '楼栋编号'}
				,{field: 'ban_damage_id', minWidth: 100, align:'center', title: '完损等级', templet: function(d) {
				    return params.damages[d.ban_damage_id];
				}}
				,{field: 'ban_struct_id', minWidth: 100, align:'center', title: '结构类别', templet: function(d) {
				    return params.structs[d.ban_struct_id];
				}}
                ,{field: 'ban_owner_id', minWidth: 80, align:'center', title: '产别', templet: function(d) {
                    return params.owners[d.ban_owner_id];
                }}
                ,{field: 'ban_address', minWidth: 140, align:'center', title: '地址'}
        
        		]
        	],
        	done: function(res, curr, count) {
        		
        	}
        }, isShowInst);
		table.on('checkbox(dataTable1)', function(obj){
              var checkStatus = table.checkStatus('dataTable1');
              datas = checkStatus.data;
              //console.log(datas);
          });
		  
		$(".j-search-fr .layui-btn:last").addClass("on");//搜索最后按钮样式
    });
	var callbackdata = function () {
         return data;
    }
	var callbackdatas = function () {
	     return datas;
	}
</script>